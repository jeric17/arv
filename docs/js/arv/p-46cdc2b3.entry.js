import{r as i,c as o,h as t,g as e}from"./p-3c1deafe.js";const n=class{constructor(t){i(this,t),this.disabledTools=[],this.blur=()=>{this.editorOnBlur.emit()},this.editorOnBlur=o(this,"editorOnBlur",7)}async setValue(i){this.el.shadowRoot.querySelector(".editor").innerHTML=i}async getValue(){return this.el.shadowRoot.querySelector(".editor").innerHTML}formatBlock(i){document.execCommand("formatBlock",!1,i)}imageGet(){if(this.handleImage){const i=this.el.shadowRoot.querySelector(".editor");this.handleImage(i)}}getImage(){const i=this.el.shadowRoot.querySelector(".editor"),o=this.el.shadowRoot.querySelector("input[type=file]").files[0],t=new FileReader;t.addEventListener("load",(function(){const o=t.result,e=document.createElement("img");e.src=o,i.appendChild(e)}),!1),o&&t.readAsDataURL(o)}showLink(){const i=prompt("Enter the URL");document.execCommand("createLink",!1,i)}size(i){document.execCommand("fontSize",!1,i)}comm(i,o=null){document.execCommand(i,!1,o)}render(){const i=[{icon:"format_bold",comm:"bold"},{icon:"format_underline",comm:"underline"},{icon:"format_italic",comm:"italic"},{icon:"format_strikethrough",comm:"strikeThrough"},{icon:"format_list_numbered",comm:"insertOrderedList"},{icon:"format_list_bulleted",comm:"insertUnorderedList"},{icon:"format_align_center",comm:"justifyCenter"},{icon:"format_align_left",comm:"justifyLeft"},{icon:"format_align_right",comm:"justifyRight"},{icon:"format_align_justify",comm:"justifyFull"},{icon:"format_clear",comm:"removeFormat"},{icon:"undo",comm:"undo"},{icon:"redo",comm:"redo"},{icon:"link_off",comm:"unlink"}].filter(i=>!this.disabledTools.includes(i.comm)),o=t("div",{class:"control"},i.map((i,o)=>t("arv-button",{key:o,onClick:this.comm.bind(this,i.comm),icon:i.icon,variant:"flat-icon",rounded:!1})),t("arv-button",{onClick:this.showLink.bind(this),icon:"insert_link",variant:"flat-icon",rounded:!1}),t("arv-menu",{xPosition:"left"},t("div",{slot:"menu"},t("arv-button",{icon:"title",variant:"flat-icon",rounded:!1})),t("div",{class:"headingList",slot:"menu-list"},["H1","H2","H3","H4","H5","H6"].map((i,o)=>t("arv-button",{rounded:!1,key:o,onClick:this.formatBlock.bind(this,i),full:!0},"Heading ",o+1)))),t("arv-menu",{xPosition:"left"},t("div",{slot:"menu"},t("arv-button",{icon:"format_size",variant:"flat-icon",rounded:!1})),t("div",{class:"headingList",slot:"menu-list"},[1,2,3,4,5,6,7].map(i=>t("arv-button",{rounded:!1,key:i,onClick:this.size.bind(this,i),full:!0},i)))),t("span",{class:"inputWrapper"},t("arv-icon",{onClick:this.imageGet.bind(this),icon:"image"}),!Boolean(this.handleImage)&&t("input",{class:"input",onChange:this.getImage.bind(this),type:"file",accept:"image/*"})));return t("div",{class:{root:!0}},t("arv-flex",{layout:"column"},o,t("arv-divider",null),t("div",{class:"editor",contenteditable:!0,onBlur:this.blur})))}get el(){return e(this)}};n.style=":host,.root,.editor{display:block;width:100%;height:100%;--icon-color:#333}.root{position:relative}.editor{overflow-y:scroll;border-radius:var(--radius);border:1px solid #efefef;padding:1em;outline:none;-webkit-box-sizing:border-box;box-sizing:border-box}.headingList{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:120px}.control{border:1px solid #efefef;display:-ms-flexbox;display:flex;min-height:33px;-ms-flex-wrap:wrap;flex-wrap:wrap;display:flex;-ms-flex-negative:0;flex-shrink:0}.wrapper{position:absolute;top:0;left:0;background-color:rgba(255, 255, 255, 0.2);z-index:1;height:100%;width:100%}.input{opacity:0;opacity:0;display:block;width:33px;height:33px;position:absolute}.inputWrapper{background-color:#f5f5f5;cursor:pointer;position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden;width:33px;height:33px;--default-icon-color:#333;-webkit-transition:all 0.3s;transition:all 0.3s}.inputWrapper:hover{background-color:#cdcdcd}.editor img{max-width:100%;display:block}";export{n as arv_editor}