import{r as t,h as i}from"./p-3c1deafe.js";const e=class{constructor(i){t(this,i),this.imageSource=[],this.transitioning=!0,this.currentIndex=0}handleImages(){this.load()}handleTouchStart(t){this.touchX=t.changedTouches[0].clientX}handleTouchEnd(t){const i=t.changedTouches[0],{clientX:e}=i;this.touchX<e?this.clickLeft():this.clickRight(),this.touchX=0}componentWillLoad(){this.load()}load(){if(!this.images)return this.imageSource=[],!1;if("string"!=typeof this.images)return this.imageSource=this.images,!1;try{const t=JSON.parse(this.images);this.imageSource=t}catch(t){console.error(t)}}_componentDidLoad(){setTimeout(()=>{this.transitioning=!1,this.direction=""},300)}clickRight(){let t=this.currentIndex;t>=this.imageSource.length-1?t=0:t+=1,this.currentIndex=t,this.direction="right",this.transitioning=!0,setTimeout(()=>{this.transitioning=!1,this.direction=""},500)}clickLeft(){let t=this.currentIndex;t?t-=1:t=this.imageSource.length-1,this.currentIndex=t,this.direction="left",this.transitioning=!0,setTimeout(()=>{this.transitioning=!1,this.direction=""},500)}render(){return i("div",{class:"root"},i("div",{class:"content"},Boolean(this.imageSource.length)&&i(()=>{const t={imageContent:!0,right:"right"===this.direction,left:"left"===this.direction},e=(()=>{const t=this.imageSource.slice(this.currentIndex,this.currentIndex+2),i=this.imageSource.length;return"left"===this.direction&&this.currentIndex===i-1?[this.imageSource[i-1],this.imageSource[0],this.imageSource[i-1]]:"left"===this.direction?t:0===this.currentIndex?[this.imageSource[i-1]].concat(t):this.currentIndex===i-1?this.imageSource.slice(i-2,i).concat(this.imageSource[0]):this.currentIndex>i-1?[this.imageSource[i-1],this.imageSource[0],this.imageSource[i-1]]:this.imageSource.slice(this.currentIndex-1,this.currentIndex+2)})();return i("div",{class:t},e.map(t=>i("div",{class:"imageContentItem",style:{"background-image":`url(${t.imageUrl})`}})))},null),!Boolean(this.imageSource.length)&&i("arv-flex",{justify:"center",items:"center"},i("arv-icon",{icon:"image"}))),i("div",{class:"control"},i("arv-flex",{justify:"between",items:"center"},this.imageSource.length>1&&i("div",{onClick:this.clickLeft.bind(this),class:"control-item control-item__left"},i("arv-flex",{justify:"center",items:"center"},i("arv-button",{color:"light",size:"large",icon:"chevron_left",variant:"ghost-icon"}))),Boolean(this.externalUrl)&&i("a",{href:this.externalUrl,target:this.target,"aria-hidden":"true",class:"middle"}),this.imageSource.length>1&&i("div",{onClick:this.clickRight.bind(this),class:"control-item control-item__right"},i("arv-flex",{justify:"center",items:"center"},i("arv-button",{color:"light",size:"large",icon:"chevron_right",variant:"ghost-icon"}))))))}static get watchers(){return{images:["handleImages"]}}};e.style=":host,.root{position:relative;height:100%;width:100%;overflow:hidden;background-color:#efefef}@-webkit-keyframes right-to-left{from{-webkit-transform:translateX(-100%);transform:translateX(-100%)}to{-webkit-transform:translateX(0%);transform:translateX(0%)}}@keyframes right-to-left{from{-webkit-transform:translateX(-100%);transform:translateX(-100%)}to{-webkit-transform:translateX(0%);transform:translateX(0%)}}.content,.imageContent,.imageContentItem{height:100%}.imageContent{display:-ms-flexbox;display:flex;-webkit-transform:translateX(-100%);transform:translateX(-100%)}.imageContentItem{background-position:center;background-size:cover;min-width:100%;width:100%}.control{position:absolute;top:0;height:100%;width:100%;z-index:1}.right{animation:right-to-left 0.5s reverse ease-in-out}.left{-webkit-animation:right-to-left 0.5s ease-in-out;animation:right-to-left 0.5s ease-in-out}.control-item{--light-text-color:#fff;--default-light-color:transparent;display:none;height:100%;cursor:pointer}.middle{display:block;width:100%;height:100%}.root:hover .control-item{display:var(--show-controls, block)}.control-item__left{background:-webkit-gradient(linear, right top, left top, from(transparent), to(rgba(0, 0, 0, 0.25))) !important;background:linear-gradient(to left, transparent 0%, rgba(0, 0, 0, 0.25) 100%) !important}.control-item__right{background:-webkit-gradient(linear, left top, right top, from(transparent), to(rgba(0, 0, 0, 0.25))) !important;background:linear-gradient(to right, transparent 0%, rgba(0, 0, 0, 0.25) 100%) !important}";export{e as arv_carousel}